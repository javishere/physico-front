(this["webpackJsonpphysiolivia-app"]=this["webpackJsonpphysiolivia-app"]||[]).push([[0],{129:function(e,t,a){e.exports=a(186)},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),c=a(24),l=a(0),o=a.n(l),s=a(35),i=a(40),u=a(19),m=Object(l.createContext)(null);function p(){return Object(l.useContext)(m)}var d=a(66),f=a(195),E=a(200),h=a(202),b=(a(135),a(8)),v=a(196),g=a(105),O=(a(136),a(97)),w=a(98),y=a(118),j=a(117);a(137);var I=function(e){var t=e.patients.map((function(e,t){return o.a.createElement("li",{key:e._id},e.name)}));return o.a.createElement("ul",null,t)},k=(a(138),a(199));var P=function(e){Object(y.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,patients:[]},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.a.get("physico","/clinica/getAllPatients").then((function(t){e.setState({isLoaded:!0,patients:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){return o.a.createElement(I,{patients:this.state.patients})}}]),a}(o.a.Component);function C(){return o.a.createElement(f.a,null,o.a.createElement(v.a,null,o.a.createElement(g.a,{xs:!0,lg:"1"},o.a.createElement(P,null)),o.a.createElement(g.a,null,o.a.createElement("div",{className:"Home"},o.a.createElement("div",{className:"lander"},o.a.createElement("h1",null,"Physico"),o.a.createElement("p",null,"Changing the physiotherapy"))))))}a(177);function S(){return o.a.createElement("div",{className:"NotFound"},o.a.createElement("h3",null,"Sorry, page not found!"))}function x(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}var L=a(55),N=a(68);function _(e){var t=Object(l.useState)(e),a=Object(u.a)(t,2),n=a[0],r=a[1];return[n,function(e){r(Object(N.a)(Object(N.a)({},n),{},Object(L.a)({},e.target.id,e.target.value)))}]}var D=a(201),T=a(107),A=a(109),R=a(108),U=a(119),B=a(197),F=a(198);a(178);function G(e){var t=e.isLoading,a=e.className,n=void 0===a?"":a,r=e.disabled,c=void 0!==r&&r,l=Object(U.a)(e,["isLoading","className","disabled"]);return o.a.createElement(B.a,Object.assign({className:"LoaderButton ".concat(n),disabled:c||t},l),t&&o.a.createElement(F.a,{animation:"grow",size:"sm",role:"status"}),l.children)}a(179);function H(){var e=Object(b.f)(),t=p().userHasAuthenticated,a=Object(l.useState)(!1),n=Object(u.a)(a,2),s=n[0],i=n[1],m=_({email:"",password:""}),E=Object(u.a)(m,2),h=E[0],v=E[1];function g(){return(g=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),i(!0),a.prev=2,a.next=5,d.a.signIn(h.email,h.password);case 5:t(!0),e.push("/"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),x(a.t0),i(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))).apply(this,arguments)}return o.a.createElement(f.a,{className:"Login"},o.a.createElement(D.a,{onSubmit:function(e){return g.apply(this,arguments)}},o.a.createElement(T.a,{controlId:"email"},o.a.createElement(A.a,null,"Email"),o.a.createElement(R.a,{autoFocus:!0,type:"email",value:h.email,onChange:v})),o.a.createElement(T.a,{controlId:"password"},o.a.createElement(A.a,null,"Password"),o.a.createElement(R.a,{value:h.password,onChange:v,type:"password"})),o.a.createElement(G,{block:!0,type:"submit",variant:"dark",isLoading:s,disabled:!(h.email.length>0&&h.password.length>0)},!s&&"Login")))}var z=a(110);a(185);function Y(){var e=_({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(b.f)(),i=Object(l.useState)(null),m=Object(u.a)(i,2),f=m[0],E=m[1],h=p().userHasAuthenticated,v=Object(l.useState)(!1),g=Object(u.a)(v,2),O=g[0],w=g[1];function y(e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.signUp({username:a.email,password:a.password});case 5:n=e.sent,w(!1),E(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),x(e.t0),w(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function I(e){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.confirmSignUp(a.email,a.confirmationCode);case 5:return e.next=7,d.a.signIn(a.email,a.password);case 7:h(!0),s.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),x(e.t0),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return o.a.createElement("div",{className:"Signup"},null===f?o.a.createElement("form",{onSubmit:y},o.a.createElement(T.a,{controlId:"email"},o.a.createElement(A.a,null,"Email"),o.a.createElement(R.a,{autoFocus:!0,type:"email",value:a.email,onChange:n})),o.a.createElement(T.a,{controlId:"password"},o.a.createElement(A.a,null,"Password"),o.a.createElement(R.a,{type:"password",value:a.password,onChange:n})),o.a.createElement(T.a,{controlId:"confirmPassword"},o.a.createElement(A.a,null,"Confirm Password"),o.a.createElement(R.a,{type:"password",onChange:n,value:a.confirmPassword})),o.a.createElement(G,{block:!0,variant:"dark",type:"submit",isLoading:O,disabled:!(a.email.length>0&&a.password.length>0&&a.password===a.confirmPassword)},"Signup")):o.a.createElement("form",{onSubmit:I},o.a.createElement(T.a,{controlId:"confirmationCode"},o.a.createElement(A.a,null,"Confirmation Code"),o.a.createElement(R.a,{autoFocus:!0,type:"tel",onChange:n,value:a.confirmationCode}),o.a.createElement(z.a,{controlId:"confirmationCodeHelpBlock"},"Please check your email for the code.")),o.a.createElement(G,{block:!0,type:"submit",variant:"dark",isLoading:O,disabled:!(a.confirmationCode.length>0)},"Verify")))}function q(){return o.a.createElement(b.c,null,o.a.createElement(b.a,{exact:!0,path:"/"},o.a.createElement(C,null)),o.a.createElement(b.a,{exact:!0,path:"/login"},o.a.createElement(H,null)),o.a.createElement(b.a,{exact:!0,path:"/signup"},o.a.createElement(Y,null)),o.a.createElement(b.a,{path:"/allPatients"},o.a.createElement(P,null)),o.a.createElement(b.a,null,o.a.createElement(S,null)))}var J=function(){var e=Object(b.f)(),t=Object(l.useState)(!1),a=Object(u.a)(t,2),n=a[0],s=a[1],i=Object(l.useState)(!0),p=Object(u.a)(i,2),v=p[0],g=p[1],O=Object(l.useState)(null),w=Object(u.a)(O,2);function y(){return(y=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.currentSession();case 3:s(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:g(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.signOut();case 2:s(!1),e.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return w[0],w[1],Object(l.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),!v&&o.a.createElement(f.a,{fluid:!0,className:"App"},o.a.createElement(E.a,{bg:"dark",variant:"dark",collapseOnSelect:!0},o.a.createElement(E.a.Brand,{href:"#/"},"Physico"),o.a.createElement(E.a.Collapse,{className:"justify-content-end"},o.a.createElement(h.a,null,n?o.a.createElement(h.a.Link,{onClick:function(){return j.apply(this,arguments)}},"Logout"):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a.Link,{href:"#/signup"},"Singup"),o.a.createElement(h.a.Link,{href:"#/login"},"Login"))))),o.a.createElement(m.Provider,{value:{isAuthenticated:n,userHasAuthenticated:s}},o.a.createElement(q,null)))},K={REGION:"eu-west-1",BUCKET:"physico"},M={REGION:"eu-west-1",URL:" https://c9p5u8gzw7.execute-api.eu-west-1.amazonaws.com/Stage"},V={REGION:"eu-west-1",USER_POOL_ID:"eu-west-1_8FIYqRDvq",APP_CLIENT_ID:"22bekhru649s03rhqpa7viui70",IDENTITY_POOL_ID:"eu-west-1:916f14a0-e460-4cef-9a48-2874df73bb9e"};a(30).a.configure({Auth:{mandatorySignIn:!0,region:V.REGION,userPoolId:V.USER_POOL_ID,identityPoolId:V.IDENTITY_POOL_ID,userPoolWebClientId:V.APP_CLIENT_ID},Storage:{region:K.REGION,bucket:K.BUCKET,identityPoolId:V.IDENTITY_POOL_ID},API:{endpoints:[{name:"physico",endpoint:M.URL,region:M.REGION,custom_header:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,d.a.currentSession();case 3:return e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{Authorization:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}}),Object(i.render)(o.a.createElement(s.a,{basename:"/"},o.a.createElement(J,null)),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.ceab0625.chunk.js.map