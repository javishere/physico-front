(this["webpackJsonpphysiolivia-app"]=this["webpackJsonpphysiolivia-app"]||[]).push([[0],{135:function(e,a,t){e.exports=t(192)},141:function(e,a,t){},142:function(e,a,t){},143:function(e,a,t){},186:function(e,a,t){},187:function(e,a,t){},188:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){"use strict";t.r(a);var n=t(16),r=t.n(n),c=t(26),l=t(0),s=t.n(l),o=t(38),i=t(43),u=t(22),m=Object(l.createContext)(null);function p(){return Object(l.useContext)(m)}var d=t(71),E=t(207),f=t(213),h=t(215),b=(t(141),t(8)),v=t(208),g=t(117),O=(t(142),t(102)),w=t(103),y=t(124),j=t(123),I=(t(143),t(214)),k=t(212),P=t(202),N=t(203),x=t(204),C=t(110),S=t(205),L=t(201),_=t(107);function D(e){var a=e.patient;return s.a.createElement(L.a,{as:"ul"},s.a.createElement(_.a,{as:"li",key:a.address},a.address))}var T=function(e){var a=e.patients.map((function(e,a){return s.a.createElement(I.a,null,s.a.createElement(k.a.Toggle,{as:P.a,variant:"secondary",eventKey:a+1},e.name+" "+e.lastName1+" "+e.lastName2),s.a.createElement(k.a.Collapse,{eventKey:a+1},s.a.createElement(D,{patient:e})))}));return s.a.createElement(I.a,{className:"mt-4"},s.a.createElement(I.a.Header,null,s.a.createElement(N.a,{className:"justify-content-between"},s.a.createElement("h4",null," Patients"),s.a.createElement(x.a,null,s.a.createElement(x.a.Prepend,null,s.a.createElement(x.a.Text,null,s.a.createElement(S.a,null))),s.a.createElement(C.a,{type:"text",placeholder:"Search","aria-label":"Input group example","aria-describedby":"btnGroupAddon"})))),s.a.createElement(k.a,null,a))},A=(t(147),t(210));var R=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(O.a)(this,t),(n=a.call(this,e)).state={error:null,isLoaded:!1,patients:[]},n}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.a.get("physico","/clinica/getAllPatients").then((function(a){e.setState({isLoaded:!0,patients:a})}),(function(a){e.setState({isLoaded:!0,error:a})}))}},{key:"render",value:function(){return s.a.createElement(T,{patients:this.state.patients})}}]),t}(s.a.Component);function U(){return s.a.createElement(E.a,{fluid:!0},s.a.createElement(v.a,null,s.a.createElement(g.a,null,s.a.createElement(R,{className:"mt-4"})),s.a.createElement(g.a,null,s.a.createElement("div",{className:"Home"},s.a.createElement("div",{className:"lander"},s.a.createElement("h1",null,"Physico"),s.a.createElement("p",null,"Changing the physiotherapy"))))))}t(186);function B(){return s.a.createElement("div",{className:"NotFound"},s.a.createElement("h3",null,"Sorry, page not found!"))}function G(e){var a=e.toString();e instanceof Error||!e.message||(a=e.message),alert(a)}var F=t(62),H=t(73);function z(e){var a=Object(l.useState)(e),t=Object(u.a)(a,2),n=t[0],r=t[1];return[n,function(e){r(Object(H.a)(Object(H.a)({},n),{},Object(F.a)({},e.target.id,e.target.value)))}]}var K=t(211),Y=t(119),q=t(120),J=t(125),M=t(209);t(187);function V(e){var a=e.isLoading,t=e.className,n=void 0===t?"":t,r=e.disabled,c=void 0!==r&&r,l=Object(J.a)(e,["isLoading","className","disabled"]);return s.a.createElement(P.a,Object.assign({className:"LoaderButton ".concat(n),disabled:c||a},l),a&&s.a.createElement(M.a,{animation:"grow",size:"sm",role:"status"}),l.children)}t(188);function W(){var e=Object(b.f)(),a=p().userHasAuthenticated,t=Object(l.useState)(!1),n=Object(u.a)(t,2),o=n[0],i=n[1],m=z({email:"",password:""}),f=Object(u.a)(m,2),h=f[0],v=f[1];function g(){return(g=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(!0),t.prev=2,t.next=5,d.a.signIn(h.email,h.password);case 5:a(!0),e.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),G(t.t0),i(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}return s.a.createElement(E.a,{className:"Login"},s.a.createElement(K.a,{onSubmit:function(e){return g.apply(this,arguments)}},s.a.createElement(Y.a,{controlId:"email"},s.a.createElement(q.a,null,"Email"),s.a.createElement(C.a,{autoFocus:!0,type:"email",value:h.email,onChange:v})),s.a.createElement(Y.a,{controlId:"password"},s.a.createElement(q.a,null,"Password"),s.a.createElement(C.a,{value:h.password,onChange:v,type:"password"})),s.a.createElement(V,{block:!0,type:"submit",variant:"dark",isLoading:o,disabled:!(h.email.length>0&&h.password.length>0)},!o&&"Login")))}var Q=t(121);t(191);function X(){var e=z({email:"",password:"",confirmPassword:"",confirmationCode:""}),a=Object(u.a)(e,2),t=a[0],n=a[1],o=Object(b.f)(),i=Object(l.useState)(null),m=Object(u.a)(i,2),E=m[0],f=m[1],h=p().userHasAuthenticated,v=Object(l.useState)(!1),g=Object(u.a)(v,2),O=g[0],w=g[1];function y(e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.signUp({username:t.email,password:t.password});case 5:n=e.sent,w(!1),f(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),G(e.t0),w(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function I(e){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.confirmSignUp(t.email,t.confirmationCode);case 5:return e.next=7,d.a.signIn(t.email,t.password);case 7:h(!0),o.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),G(e.t0),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return s.a.createElement("div",{className:"Signup"},null===E?s.a.createElement("form",{onSubmit:y},s.a.createElement(Y.a,{controlId:"email"},s.a.createElement(q.a,null,"Email"),s.a.createElement(C.a,{autoFocus:!0,type:"email",value:t.email,onChange:n})),s.a.createElement(Y.a,{controlId:"password"},s.a.createElement(q.a,null,"Password"),s.a.createElement(C.a,{type:"password",value:t.password,onChange:n})),s.a.createElement(Y.a,{controlId:"confirmPassword"},s.a.createElement(q.a,null,"Confirm Password"),s.a.createElement(C.a,{type:"password",onChange:n,value:t.confirmPassword})),s.a.createElement(V,{block:!0,variant:"dark",type:"submit",isLoading:O,disabled:!(t.email.length>0&&t.password.length>0&&t.password===t.confirmPassword)},"Signup")):s.a.createElement("form",{onSubmit:I},s.a.createElement(Y.a,{controlId:"confirmationCode"},s.a.createElement(q.a,null,"Confirmation Code"),s.a.createElement(C.a,{autoFocus:!0,type:"tel",onChange:n,value:t.confirmationCode}),s.a.createElement(Q.a,{controlId:"confirmationCodeHelpBlock"},"Please check your email for the code.")),s.a.createElement(V,{block:!0,type:"submit",variant:"dark",isLoading:O,disabled:!(t.confirmationCode.length>0)},"Verify")))}function Z(){return s.a.createElement(b.c,null,s.a.createElement(b.a,{exact:!0,path:"/"},s.a.createElement(U,null)),s.a.createElement(b.a,{exact:!0,path:"/login"},s.a.createElement(W,null)),s.a.createElement(b.a,{exact:!0,path:"/signup"},s.a.createElement(X,null)),s.a.createElement(b.a,{path:"/allPatients"},s.a.createElement(R,null)),s.a.createElement(b.a,null,s.a.createElement(B,null)))}var $=function(){var e=Object(b.f)(),a=Object(l.useState)(!1),t=Object(u.a)(a,2),n=t[0],o=t[1],i=Object(l.useState)(!0),p=Object(u.a)(i,2),v=p[0],g=p[1],O=Object(l.useState)(null),w=Object(u.a)(O,2);function y(){return(y=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.currentSession();case 3:o(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:g(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.signOut();case 2:o(!1),e.push("/login");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return w[0],w[1],Object(l.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),!v&&s.a.createElement(E.a,{fluid:!0,className:"App"},s.a.createElement(f.a,{bg:"dark",variant:"dark",collapseOnSelect:!0},s.a.createElement(f.a.Brand,{href:"#/"},"Physico"),s.a.createElement(f.a.Collapse,{className:"justify-content-end"},s.a.createElement(h.a,null,n?s.a.createElement(h.a.Link,{onClick:function(){return j.apply(this,arguments)}},"Logout"):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a.Link,{href:"#/signup"},"Singup"),s.a.createElement(h.a.Link,{href:"#/login"},"Login"))))),s.a.createElement(m.Provider,{value:{isAuthenticated:n,userHasAuthenticated:o}},s.a.createElement(Z,null)))},ee={REGION:"eu-west-1",BUCKET:"physico"},ae={REGION:"eu-west-1",URL:" https://c9p5u8gzw7.execute-api.eu-west-1.amazonaws.com/Stage"},te={REGION:"eu-west-1",USER_POOL_ID:"eu-west-1_8FIYqRDvq",APP_CLIENT_ID:"22bekhru649s03rhqpa7viui70",IDENTITY_POOL_ID:"eu-west-1:916f14a0-e460-4cef-9a48-2874df73bb9e"};t(31).a.configure({Auth:{mandatorySignIn:!0,region:te.REGION,userPoolId:te.USER_POOL_ID,identityPoolId:te.IDENTITY_POOL_ID,userPoolWebClientId:te.APP_CLIENT_ID},Storage:{region:ee.REGION,bucket:ee.BUCKET,identityPoolId:te.IDENTITY_POOL_ID},API:{endpoints:[{name:"physico",endpoint:ae.URL,region:ae.REGION,custom_header:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,d.a.currentSession();case 3:return e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{Authorization:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}}),Object(i.render)(s.a.createElement(o.a,{basename:"/"},s.a.createElement($,null)),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.c580f780.chunk.js.map