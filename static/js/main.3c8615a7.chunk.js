(this["webpackJsonpphysiolivia-app"]=this["webpackJsonpphysiolivia-app"]||[]).push([[0],{131:function(e,a,t){e.exports=t(186)},137:function(e,a,t){},138:function(e,a,t){},139:function(e,a,t){},180:function(e,a,t){},181:function(e,a,t){},182:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){"use strict";t.r(a);var n=t(17),r=t.n(n),c=t(26),l=t(0),s=t.n(l),o=t(38),i=t(43),u=t(12),m=Object(l.createContext)(null);function p(){return Object(l.useContext)(m)}var d=t(71),f=t(201),E=t(207),h=t(209),b=(t(137),t(8)),v=t(202),g=t(116),O=(t(138),t(208)),w=t(198),j=t(114),y=t(199),I=t(115),k=t(200),C=(t(139),t(206)),N=t(196),P=t(195),S=t(105);function x(e){var a=e.patient;return s.a.createElement(P.a,{as:"ul",key:a._id},s.a.createElement(S.a,{as:"li",key:a.address},a.address))}var L=function(e){var a=e.patients.map((function(e,a){var t=e.name,n=e.lastName1,r=e.lastName2?e.lastName2:"";return s.a.createElement(O.a,{key:e._id},s.a.createElement(C.a.Toggle,{as:N.a,variant:"secondary",eventKey:a+1},t+" "+n+" "+r),s.a.createElement(C.a.Collapse,{eventKey:a+1},s.a.createElement(x,{patient:e})))}));return s.a.createElement(C.a,null,a)},_=t(204);var D=t(62),T=t(73);function U(e){var a=Object(l.useState)(e),t=Object(u.a)(a,2),n=t[0],r=t[1];return[n,function(e){r(Object(T.a)(Object(T.a)({},n),{},Object(D.a)({},e.target.id,e.target.value)))}]}function A(e){var a=Object(l.useState)(null),t=Object(u.a)(a,2),n=(t[0],t[1]),r=Object(l.useState)(!1),c=Object(u.a)(r,2),o=(c[0],c[1]),i=Object(l.useState)([]),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(l.useState)([]),E=Object(u.a)(f,2),h=E[0],b=E[1],v=U({search:""}),g=Object(u.a)(v,2),C=g[0],N=g[1];return Object(l.useEffect)((function(){d(h.filter((function(e,a){var t=e.lastName2?e.lastName2:"";return e.name.toUpperCase().includes(C.search.toUpperCase())||e.lastName1.toUpperCase().includes(C.search.toUpperCase())||t.toUpperCase().includes(C.search.toUpperCase())})))}),[C.search,h]),Object(l.useEffect)((function(){_.a.get("physico","/clinica/getAllPatients").then((function(e){o(!0),b(e),d(e)}),(function(e){o(!0),n(e)}))}),[]),s.a.createElement(O.a,null,s.a.createElement(O.a.Header,{className:"pb-0"},s.a.createElement(w.a,{className:"justify-content-between"},s.a.createElement("h4",null," Patients"),s.a.createElement(j.a,{controlId:"search"},s.a.createElement(y.a,null,s.a.createElement(y.a.Prepend,null,s.a.createElement(y.a.Text,null,s.a.createElement(k.a,null))),s.a.createElement(I.a,{type:"text",placeholder:"Search",value:C.search,onChange:N,autoComplete:"off"}))))),s.a.createElement(L,{patients:p}))}function R(){return s.a.createElement(f.a,{fluid:!0},s.a.createElement(v.a,null,s.a.createElement(g.a,{xl:3,className:"mt-4 h-100 d-inline-block"},s.a.createElement(A,null)),s.a.createElement(g.a,null,s.a.createElement("div",{className:"Home"},s.a.createElement("div",{className:"lander"},s.a.createElement("h1",null,"Physico"),s.a.createElement("p",null,"Changing the physiotherapy"))))))}t(180);function B(){return s.a.createElement("div",{className:"NotFound"},s.a.createElement("h3",null,"Sorry, page not found!"))}function F(e){var a=e.toString();e instanceof Error||!e.message||(a=e.message),alert(a)}var G=t(205),H=t(118),z=t(121),K=t(203);t(181);function Y(e){var a=e.isLoading,t=e.className,n=void 0===t?"":t,r=e.disabled,c=void 0!==r&&r,l=Object(z.a)(e,["isLoading","className","disabled"]);return s.a.createElement(N.a,Object.assign({className:"LoaderButton ".concat(n),disabled:c||a},l),a&&s.a.createElement(K.a,{animation:"grow",size:"sm",role:"status"}),l.children)}t(182);function q(){var e=Object(b.f)(),a=p().userHasAuthenticated,t=Object(l.useState)(!1),n=Object(u.a)(t,2),o=n[0],i=n[1],m=U({email:"",password:""}),E=Object(u.a)(m,2),h=E[0],v=E[1];function g(){return(g=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(!0),t.prev=2,t.next=5,d.a.signIn(h.email,h.password);case 5:a(!0),e.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),F(t.t0),i(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}return s.a.createElement(f.a,{className:"Login"},s.a.createElement(G.a,{onSubmit:function(e){return g.apply(this,arguments)}},s.a.createElement(j.a,{controlId:"email"},s.a.createElement(H.a,null,"Email"),s.a.createElement(I.a,{autoFocus:!0,type:"email",value:h.email,onChange:v})),s.a.createElement(j.a,{controlId:"password"},s.a.createElement(H.a,null,"Password"),s.a.createElement(I.a,{value:h.password,onChange:v,type:"password"})),s.a.createElement(Y,{block:!0,type:"submit",variant:"dark",isLoading:o,disabled:!(h.email.length>0&&h.password.length>0)},!o&&"Login")))}var J=t(119);t(185);function V(){var e=U({email:"",password:"",confirmPassword:"",confirmationCode:""}),a=Object(u.a)(e,2),t=a[0],n=a[1],o=Object(b.f)(),i=Object(l.useState)(null),m=Object(u.a)(i,2),f=m[0],E=m[1],h=p().userHasAuthenticated,v=Object(l.useState)(!1),g=Object(u.a)(v,2),O=g[0],w=g[1];function y(e){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.signUp({username:t.email,password:t.password});case 5:n=e.sent,w(!1),E(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),F(e.t0),w(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),w(!0),e.prev=2,e.next=5,d.a.confirmSignUp(t.email,t.confirmationCode);case 5:return e.next=7,d.a.signIn(t.email,t.password);case 7:h(!0),o.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),F(e.t0),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return s.a.createElement("div",{className:"Signup"},null===f?s.a.createElement("form",{onSubmit:y},s.a.createElement(j.a,{controlId:"email"},s.a.createElement(H.a,null,"Email"),s.a.createElement(I.a,{autoFocus:!0,type:"email",value:t.email,onChange:n})),s.a.createElement(j.a,{controlId:"password"},s.a.createElement(H.a,null,"Password"),s.a.createElement(I.a,{type:"password",value:t.password,onChange:n})),s.a.createElement(j.a,{controlId:"confirmPassword"},s.a.createElement(H.a,null,"Confirm Password"),s.a.createElement(I.a,{type:"password",onChange:n,value:t.confirmPassword})),s.a.createElement(Y,{block:!0,variant:"dark",type:"submit",isLoading:O,disabled:!(t.email.length>0&&t.password.length>0&&t.password===t.confirmPassword)},"Signup")):s.a.createElement("form",{onSubmit:C},s.a.createElement(j.a,{controlId:"confirmationCode"},s.a.createElement(H.a,null,"Confirmation Code"),s.a.createElement(I.a,{autoFocus:!0,type:"tel",onChange:n,value:t.confirmationCode}),s.a.createElement(J.a,{controlId:"confirmationCodeHelpBlock"},"Please check your email for the code.")),s.a.createElement(Y,{block:!0,type:"submit",variant:"dark",isLoading:O,disabled:!(t.confirmationCode.length>0)},"Verify")))}function W(){return s.a.createElement(b.c,null,s.a.createElement(b.a,{exact:!0,path:"/"},s.a.createElement(R,null)),s.a.createElement(b.a,{exact:!0,path:"/login"},s.a.createElement(q,null)),s.a.createElement(b.a,{exact:!0,path:"/signup"},s.a.createElement(V,null)),s.a.createElement(b.a,{path:"/allPatients"},s.a.createElement(A,null)),s.a.createElement(b.a,null,s.a.createElement(B,null)))}var M=function(){var e=Object(b.f)(),a=Object(l.useState)(!1),t=Object(u.a)(a,2),n=t[0],o=t[1],i=Object(l.useState)(!0),p=Object(u.a)(i,2),v=p[0],g=p[1];function O(){return(O=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.currentSession();case 3:o(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:g(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(){return(w=Object(c.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.signOut();case 2:o(!1),e.push("/login");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(l.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),!v&&s.a.createElement(f.a,{fluid:!0,className:"App"},s.a.createElement(E.a,{bg:"dark",variant:"dark",collapseOnSelect:!0},s.a.createElement(E.a.Brand,{href:"#/"},"Physico"),s.a.createElement(E.a.Collapse,{className:"justify-content-end"},s.a.createElement(h.a,null,n?s.a.createElement(h.a.Link,{onClick:function(){return w.apply(this,arguments)}},"Logout"):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a.Link,{href:"#/signup"},"Singup"),s.a.createElement(h.a.Link,{href:"#/login"},"Login"))))),s.a.createElement(m.Provider,{value:{isAuthenticated:n,userHasAuthenticated:o}},s.a.createElement(W,null)))},Q={REGION:"eu-west-1",BUCKET:"physico"},X={REGION:"eu-west-1",URL:" https://c9p5u8gzw7.execute-api.eu-west-1.amazonaws.com/Stage"},Z={REGION:"eu-west-1",USER_POOL_ID:"eu-west-1_8FIYqRDvq",APP_CLIENT_ID:"22bekhru649s03rhqpa7viui70",IDENTITY_POOL_ID:"eu-west-1:916f14a0-e460-4cef-9a48-2874df73bb9e"};t(31).a.configure({Auth:{mandatorySignIn:!0,region:Z.REGION,userPoolId:Z.USER_POOL_ID,identityPoolId:Z.IDENTITY_POOL_ID,userPoolWebClientId:Z.APP_CLIENT_ID},Storage:{region:Q.REGION,bucket:Q.BUCKET,identityPoolId:Z.IDENTITY_POOL_ID},API:{endpoints:[{name:"physico",endpoint:X.URL,region:X.REGION,custom_header:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,d.a.currentSession();case 3:return e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{Authorization:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}}),Object(i.render)(s.a.createElement(o.a,{basename:"/"},s.a.createElement(M,null)),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.3c8615a7.chunk.js.map